package TP3Glouton;

import java.io.BufferedReader;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import TP3Glouton.AbreHoffman;
import TP3Glouton.ListeHoffman;

public class LectureFichierArbre {

public static void main(String[] args) {
		
		int [] freq = {5, 7, 8, 10, 15, 30};
		char [] c = {'c', 'b', 'd', 'f', 'a', 'e'};
		
		ListeHoffman liste = TP3Glouton.ListeHoffman.construireInsererOrd(freq, c);
		liste.afficherListeHoff(); System.out.println();
		
		AbreHoffman a = TP3Glouton.AbreHoffman.creation(liste);
		a.affiche();
	
		
		char [] tabcar = new char [79];
		int [] tabfreq = new int [79];
		
		try {
            BufferedReader reader = new BufferedReader(new FileReader("/Users/nicolas/Desktop/frequence2.csv"));
            String line = "";
            int t=0;
            String[] array;
            try {
                
                while((line = reader.readLine()) != null){
                    array = line.split("\t");
                    array[0] = array[0].substring(0,1);
                    tabcar[t]= array[0].charAt(0);
                   
                    tabfreq[t]= Integer.parseInt(array[1]);
                    
                    t++;
                }
                for(int i=0;i<79;i++) {
                    //System.out.println(tabcar[i] + " " + tabfreq[i]);
                }
                
                
                ListeHoffman liste2 = TP3Glouton.ListeHoffman.construireInsererOrd(tabfreq, tabcar);
        		liste2.afficherListeHoff(); System.out.println();
        		
        		AbreHoffman a2 = TP3Glouton.AbreHoffman.creation(liste2);
        		a2.affiche();
        		
        		System.out.println(a2.codage("maître orbeau sur un arbre perché " + 
        				"tenait en son bec un fromage " + 
        				"maître renard par l'odeur alléché " + 
        				"lui tint à peu près ce langage  " + 
        				"hé  bonjour monsieur du morbeau. " + 
        				"que vous êtes joli ! que vous me semblez beau ! " + 
        				"sans mentir si votre ramage " + 
        				"se rapporte à votre plumage " + 
        				"vous êtes le phénix des hôtes de ces bois" ));
        		System.out.println(a2.codage("j'aimerai adopter un chat. malheureusement ma maman n'en veut pas. hier j'ai vu une annonce sur facebook de trois petits chatons à adopter juste a coté de chez moi. j'aurai aimé rentrer à la maison avec trois nouvelles petites boules de poils et voir ma maman entre surprise attendrissement et colère."));
        		
        		System.out.println(a2.decodage("001111101010001001000101100001101001100101000111101101111011111101001110101111110000100111111110010100111101100011110111000011010011000010111000110001111001111010010011010101110011101101101010100110111001010011101000101001010011111101101111000010011111111001010011111100010000010001111101000001011010011001111101010001001000101100001101001110000111001110110001110001001100001110110000100110001010010100101110001111111100001001111010001000111101011000111100111101001001100011111110110100110101101110010101010011000000010100110000101111111010011000011000001100001010010011110000110100110001110110010000011101000001011010011010011111100111101001001101001111110110010100101000010001011111100001001100111001010011010101101111111100001001111100111110100110011100101000111101101111011111111001010100110011001111110110100111111010001011111101001001100110001110101011101001001101000010001000011011010011111011100001101001100110011111101101001111110100010111111010010011001110110100111010011001111111011000101100110001001001111110110111101111110100111110111000011010011101011011001101001001100111011100101011011100001001110101011010011111101000100101100001101001110001101001111101000001011010011101001101001110001101000010000100101000010101101001100000001010011111101000100101100001101001100001000111111001111101000001011010011111101000101111110100100110011000111010101110100100110001011010011000011111001111010100110110100100001001111100011101001001111110011100110000101010111010010011111000110100111100001110100100111111011001010111010"));
        		System.out.println(a2.decodage("01000010010010111011011001110111000110110110100111101111000010000010101011100001001111111100101001111000111100111010101110010101001100111110100011111001011111111000011111111010011001110111001010101001100111110101001100111110100111110110010100111001010010101110010100111111010011111110101010011000011101101011001010100111111001101101110000100110100001001001011101101101001111110101111101001111111100101101001111011001100100101001110000110100111010111111000010011111100011011100001111110110010001000000000010011111000110100110101100000101011101001001100001011010110110101101001001111000111100111010101001010011010010011000000010100111101111000010000010101011100001001101000010111111010010101101001111010100111100000100101111010010011111000110100111100011110010110011000100100110011100101011110010101001101000010010010111011111110001101101101001111011011001111110100100111000011100101011000011100001001100000001010011000111010100110011111011011101000101001010011110111110100111100001001101011000001010111010010011100100101111111110100110001000101110100100110000101101011011010101110100100111111011001011111000101110100100111110001101001100001001010110001101001001101101010100111111010001010111000010011001111101010011001111101001111101100101001101110010101100001101001110101111110000000110001011101001101001111010101010101110011110010001011101010100110011101110010101010011011010101001111000001000010011000010000111100101"));

            } catch (NumberFormatException e) {
                
                e.printStackTrace();
            } catch (IOException e) {
                
                e.printStackTrace();
            }
        }catch (FileNotFoundException e) {
            e.printStackTrace();
        }
		
	}
}
